/* --- 1. ADMIN GLOBAL STYLES & RESET (Modern Desktop Focus) --- */

:root {
    /* Color Palette from original CSS - STRICTLY MAINTAINED */
    --color-primary: #047857; /* Deep Green */
    --color-secondary: #047857; 
    --color-text-dark: #1e293b; /* Dark Slate */
    --color-text-light: #64748b; /* Gray */
    --color-background: #f8fafc; /* Light Gray/Off-White */
    --color-card-bg: white;
    --color-border: #e2e8f0;
    --color-danger: #DC3545;
    --color-success: #28A745;
    --color-primary-light: #ecfdf5; /* Very light green for accents */ 
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', 'Roboto', Helvetica, Arial, sans-serif;
    line-height: 1.5;
}

body {
    background-color: var(--color-background);
    background: linear-gradient(to bottom right, #f4f7f9, var(--color-background)); 
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    color: var(--color-text-dark);
}

/* --- 2. ADMIN LOGIN CONTAINER (Minimalist Card) --- */

.login-container {
    width: 100%;
    max-width: 400px; 
    padding: 50px 40px; 
    text-align: center;
    background-color: var(--color-card-bg);
    border-radius: 6px; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08); 
    border-top: 5px solid var(--color-primary); 
    animation: slideIn 0.6s ease-out;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- 3. TYPOGRAPHY & LOGO (Official Branding) --- */

.auth-logo {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.2em; 
    font-weight: 900; 
    color: var(--color-text-dark); 
    margin-bottom: 5px;
}

.auth-logo img {
    height: 55px; 
    width: 55px;
    margin-right: 15px;
    border-radius: 50%;
    border: 2px solid var(--color-primary); 
}

.login-title {
    color: var(--color-primary); 
    font-weight: 400; 
    font-size: 1.2em;
    margin-bottom: 40px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* --- 4. FORM ELEMENTS & BUTTONS (Clean & Modern) --- */

.login-form input[type="text"],
.login-form input[type="email"],
.login-form input[type="password"] {
    width: 100%; 
    padding: 10px 0; 
    margin-bottom: 30px;
    border: none;
    border-bottom: 2px solid var(--color-border); 
    border-radius: 0;
    font-size: 1em;
    color: var(--color-text-dark);
    transition: border-bottom-color 0.3s ease;
    background: transparent;
}

.login-form input:focus {
    border-bottom-color: var(--color-primary); 
    outline: none;
    box-shadow: none;
}

.btn-primary {
    background-color: var(--color-primary);
    color: white;
    padding: 14px 25px;
    border: none;
    border-radius: 4px;
    font-size: 1.05em;
    font-weight: 700;
    cursor: pointer;
    text-align: center;
    transition: background-color 0.2s, box-shadow 0.2s;
    width: 100%;
    display: block;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.btn-primary:hover {
    background-color: #059669; 
    box-shadow: 0 4px 15px rgba(4, 120, 87, 0.4); 
}

.link {
    display: block;
    text-align: center;
    margin-top: 25px;
    font-size: 0.9em;
}

.link-text {
    color: var(--color-text-light);
    text-decoration: none;
    transition: color 0.2s;
}

.link-text:hover {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 600;
}


/* --- 5. ADMIN LAYOUT STRUCTURE (Desktop) --- */

.desktop-layout {
    display: flex;
    height: 100vh;
    width: 100%;
    overflow: hidden; 
}

.main-area {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden; 
}

.content {
    flex-grow: 1;
    padding: 30px; 
    overflow-y: auto; 
    background-color: var(--color-background);
}


/* --- 6. SIDEBAR NAVIGATION --- */

.sidebar-nav {
    width: 250px; 
    background-color: var(--color-primary); 
    color: white;
    flex-shrink: 0;
    box-shadow: 4px 0 10px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    z-index: 20;
}

.sidebar-logo {
    font-size: 2.1em;
    font-weight: 800;
    margin-bottom: 30px;
    padding: 20px 10px 0;
    display: flex;
    flex-direction: column; 
    align-items: flex-start; 
    line-height: 1.2;
}

/* Wrapper for Logo Image and Trashify Text */
.sidebar-logo > div {
    display: flex;
    align-items: center;
    padding-left: 20px; 
}

.sidebar-logo img {
    height: 40px; 
    width: 40px;
    border-radius: 50%;
    border: 2px solid white; 
    margin-right: 10px; 
    margin-bottom: 0;
}

.sidebar-logo span {
    display: block;
    font-size: 0.4em;
    font-weight: 400;
    opacity: 0.8; 
    margin-top: -5px;
    margin-left: 0; 
    padding-left: 55px; 
    color: white;
}

.sidebar-menu a {
    display: flex;
    align-items: center;
    padding: 14px 25px; 
    color: white;
    text-decoration: none;
    font-weight: 500;
    transition: background-color 0.2s, padding-left 0.2s;
    border-left: 4px solid transparent; 
}

.sidebar-menu a:hover {
    background-color: rgba(255, 255, 255, 0.15);
    padding-left: 30px; 
}

.sidebar-menu a.active {
    background-color: rgba(0, 0, 0, 0.2); 
    font-weight: 700;
    border-left-color: white; 
}

.sidebar-menu a span:first-child {
    margin-right: 15px;
    font-size: 1.2em;
    filter: drop-shadow(0 0 1px rgba(0,0,0,0.5));
}

/* --- 7. HEADER & USER ACTIONS --- */

.admin-header {
    background-color: var(--color-card-bg); 
    color: var(--color-text-dark);
    border-bottom: 1px solid var(--color-border);
    padding: 0 30px;
    height: 70px; 
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
}

.admin-header .title {
    color: var(--color-text-dark);
    font-size: 1.6em;
    font-weight: 600;
}

.admin-header .actions a {
    color: var(--color-text-light);
    text-decoration: none; 
    font-size: 1.4em;
    margin-left: 20px;
    transition: color 0.2s;
}

.admin-header .actions a:hover {
    color: var(--color-primary); 
}


/* --- 8. DASHBOARD COMPONENTS --- */

/* Section Headings */
.content h4 {
    font-weight: 600; 
    font-size: 0.9em;
    letter-spacing: 1px;
    color: var(--color-text-light); 
    margin-top: 35px;
    margin-bottom: 15px;
    text-transform: uppercase;
    border-bottom: 1px solid var(--color-border);
    padding-bottom: 5px;
    display: inline-block;
}
.content h4:first-child {
    margin-top: 0;
}


/* Alert Cards (Action Required) */
.alert-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    border-radius: 8px;
    margin-bottom: 15px;
    text-decoration: none; 
    background-color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    border-left: 5px solid transparent;
    transition: all 0.2s ease;
}

.alert-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.alert-card p {
    margin: 0; 
    font-weight: 700; 
    font-size: 1.1em;
    color: var(--color-text-dark);
}

.alert-card small {
    display: block; 
    color: var(--color-text-light); 
    margin-top: 3px;
    font-size: 0.9em;
}


/* Metric Grid */
.metric-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); 
    gap: 20px;
    margin-bottom: 30px;
}

.metric-card {
    background-color: var(--color-card-bg);
    padding: 25px 20px; 
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    text-align: left; 
    border-bottom: 5px solid var(--color-primary);
    transition: all 0.3s;
}

.metric-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.metric-card strong {
    display: block;
    font-size: 3em; 
    font-weight: 800; 
    color: var(--color-text-dark); 
    margin-bottom: 5px;
}

.metric-card small {
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9em;
    letter-spacing: 0.8px;
    color: var(--color-text-light);
}

/* Quick Links Card */
.card { 
    border: 1px solid var(--color-border);
    border-radius: 8px; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
    padding: 0; 
}

.quick-link-item {
    padding: 15px 20px; 
    border-bottom: 1px solid var(--color-border);
    text-decoration: none; 
    color: var(--color-text-dark); 
    font-weight: 500; 
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    width: 100%;
    transition: background-color 0.2s;
}

.quick-link-item:hover {
    background-color: #f0f4f7;
    font-weight: 600;
    color: var(--color-primary); 
}

/* Hide the border on the last item */
.settings-list li:last-child .quick-link-item {
    border-bottom: none;
}

.quick-link-item span {
    font-size: 1.2em;
    color: var(--color-text-light);
    font-weight: 500;
    transition: color 0.2s;
}

.quick-link-item:hover span {
    color: var(--color-primary);
}


/* --- 9. UTILITY CLASSES (Alerts and Metrics) --- */

/* Alert Card Styles */
.alert-card.alert-danger {
    border-left-color: var(--color-danger);
}
.alert-card.alert-danger p {
    color: var(--color-danger);
}
.alert-card.alert-danger span {
    color: var(--color-danger);
}

.alert-card.alert-warning {
    border-left-color: #f59e0b; 
}
.alert-card.alert-warning p {
    color: #f59e0b;
}
.alert-card.alert-warning span {
    color: #f59e0b;
}

/* Metric Card Styles */
.metric-card.metric-success {
    border-bottom-color: var(--color-success); 
}

/* --- 10. USER MANAGEMENT COMPONENTS --- */

/* Alert Strip (4 Pending Approvals) */
.approval-alert-strip {
    /* Inherits btn-primary base styles, but ensures margin and text alignment */
    margin-bottom: 30px;
    padding: 16px;
    font-size: 1.1em;
    font-weight: 700;
    text-align: center;
    text-transform: none; /* Override uppercase on button */
    letter-spacing: normal;
    background-color: var(--color-danger); /* Use danger color for urgency */
    box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
}
.approval-alert-strip:hover {
    background-color: #c82333; /* Slightly darker danger on hover */
}


/* Filter Container */
.user-filter-container {
    display: flex; 
    justify-content: space-between; 
    gap: 15px; 
    margin-bottom: 40px;
    padding: 15px;
    background-color: var(--color-card-bg);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

/* Secondary Button Style for Role Filtering (Now applied to <a> tags) */
.btn-secondary-role {
    display: block; /* Make <a> fill the space */
    text-align: center;
    text-decoration: none; /* Remove underline */
    
    background-color: var(--color-card-bg); 
    color: var(--color-primary); 
    border: 1px solid var(--color-primary); 
    flex: 1;
    padding: 12px 15px;
    border-radius: 4px;
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-secondary-role:hover {
    background-color: var(--color-primary);
    color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* Active Button Style - Stronger visual cue */
.btn-secondary-role.active {
    background-color: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
    font-weight: 700;
    /* Adding a subtle inner shadow or lift for active state */
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2); 
}


/* User List */
.user-list {
    list-style: none; 
    padding: 0;
}

.user-list li {
    padding: 18px 10px; /* Increased vertical padding */
    border-bottom: 1px solid var(--color-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.2s ease;
}

.user-list li:hover {
    background-color: var(--color-primary-light); /* Light primary green on hover */
    cursor: pointer;
    margin: 0; /* Remove the negative margin from old inline style */
    padding-left: 20px;
    padding-right: 20px;
}

.user-list li:last-child {
    border-bottom: none;
}

.user-list strong {
    display: block; 
    font-weight: 600;
}

.user-list small {
    display: block;
    font-size: 0.85em;
    color: var(--color-text-light);
    margin-top: 3px;
}

.user-list .role-user small {
    color: var(--color-secondary); /* Dark text for standard users */
}

/* Existing Collector and Factory role colors */
.user-list .role-collector small {
    color: var(--color-secondary); 
}

.user-list .role-factory small {
    color: var(--color-primary);
}

.user-list span {
    color: var(--color-text-light);
    font-weight: 600;
    transition: color 0.2s;
}

.user-list li:hover span {
    color: var(--color-primary);
}

/* --- 11. PARTNER APPROVALS COMPONENTS (Polished) --- */

/* Approval Item Container */
.approval-item {
    padding: 25px; /* Increased vertical padding */
    border: 1px solid var(--color-border);
    border-left: 6px solid transparent; /* Thicker left accent border */
    border-radius: 12px; /* Smoother corners */
    margin-bottom: 25px; 
    background-color: var(--color-card-bg);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Softer, deeper shadow */
    max-width: 800px; /* Slightly wider for better information display */
    transition: all 0.3s ease-out;
    display: flex; /* Use flexbox for cleaner vertical alignment */
    flex-direction: column;
}
.approval-item:hover {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px); /* Subtle lift on hover */
}

/* Approval Item Content */
.approval-item strong {
    font-size: 1.3em; /* Larger, more dominant name */
    font-weight: 800; /* Extra bold */
    margin-bottom: 7px;
}
.approval-item small {
    font-size: 0.95em;
    color: var(--color-text-light);
    margin-bottom: 10px; /* Space before the action buttons */
}
/* Highlighted Text (e.g., Requires Document Verification) */
.approval-item small strong {
    color: var(--color-danger); /* Use danger color for critical tags */
    font-weight: 700;
    font-size: 1em; /* Reset size to match small tag */
}

/* Action Buttons Container */
.action-buttons {
    display: flex;
    gap: 15px; /* Increased gap */
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid var(--color-border); /* Subtle separator line */
}

/* Approval Buttons (Modern Styling) */
.action-buttons button {
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 700;
    flex-grow: 1;
    text-transform: uppercase;
    font-size: 0.85em;
    letter-spacing: 0.5px;
    transition: background-color 0.2s, box-shadow 0.2s;
}

/* 1. Approve Button (Primary/Success) */
.btn-approve {
    background-color: var(--color-success);
    color: white;
    border: none;
}
.btn-approve:hover {
    background-color: #1e873a;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.5);
}

/* 2. Reject Button (Danger) */
.btn-reject {
    background-color: var(--color-danger);
    color: white;
    border: none;
}
.btn-reject:hover {
    background-color: #b01c2a;
    box-shadow: 0 2px 8px rgba(220, 53, 69, 0.5);
}

/* 3. Secondary Action (Info/Request More) */
.btn-info-action {
    background-color: var(--color-card-bg); /* White background */
    color: var(--color-text-dark); /* Dark text */
    border: 1px solid var(--color-border); /* Subtle border */
}
.btn-info-action:hover {
    background-color: var(--color-primary-light);
    color: var(--color-primary);
    border-color: var(--color-primary);
}


/* Role-Specific Visual Cues (Border Colors) */
.approval-factory {
    /* Use Primary color for Factory Partners (stable, core business) */
    border-left-color: var(--color-primary);
}
.approval-factory strong {
    color: var(--color-primary);
}

.approval-collector {
    /* Use Secondary/Darker Text color for Collectors (Logistics/Operations) */
    border-left-color: var(--color-text-dark);
}
.approval-collector strong {
    color: var(--color-text-dark);
}

/* --- 12. LOGISTICS TRACKING COMPONENTS --- */

/* Tracking Button (Link to Machine Network) */
.btn-tracking-link {
    /* Inherits btn-primary but overrides color and width */
    background-color: var(--color-text-dark); /* Use a neutral, solid color */
    max-width: 450px;
    margin-bottom: 30px;
    font-size: 1em;
    padding: 14px 25px;
}
.btn-tracking-link:hover {
    background-color: var(--color-text-light);
    box-shadow: 0 4px 15px rgba(30, 41, 59, 0.4);
}


/* Main Tracking Grid */
.tracking-grid {
    display: grid;
    /* Map takes more space than the job list */
    grid-template-columns: 3fr 1.5fr; 
    gap: 25px;
    margin-bottom: 30px;
}

/* Map Placeholder / Container */
.map-container {
    height: 60vh;
    min-height: 500px;
    background-color: var(--color-background); /* Reverted to lighter background for map area */
    border: 1px solid var(--color-border);
    border-radius: 8px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    color: white; /* Default color for internal overlays */
}

/* New Map Visualization Element */
.map-visualization {
    /* This container represents the graphical map background. */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    /* Use strong color/gradient to mimic map complexity */
    background-image: url('img/map-image.png'); /* Adjust path as necessary */
    background-size: cover; 
    background-position: center;
    
    /* Text for the placeholder map image */
    
    color: transparent;
    z-index: 1; /* Keep map visualization below controls/overlays */
}

/* 1. Map Title Overlay */
.map-title-overlay {
    position: absolute;
    top: 15px; /* Adjusted position to match the image */
    left: 15px; /* Adjusted position to match the image */
    padding: 10px 15px;
    background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent dark background */
    border-radius: 6px; /* Slightly more rounded */
    z-index: 20;
    font-size: 1.1em;
    font-weight: 700;
    color: white; /* Ensure text is white */
}

/* 2. Map Legend Overlay */
.map-legend {
    position: absolute;
    bottom: 15px; /* Adjusted position to match the image */
    left: 15px; /* Adjusted position to match the image */
    padding: 8px 15px;
    background-color: var(--color-primary); /* Use primary color for a clean, visible legend */
    border-radius: 6px; /* Slightly more rounded */
    z-index: 20;
    font-size: 0.9em;
    font-weight: 600;
    opacity: 0.95;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: white; /* Ensure text is white */
}

/* Job List Container - Ensures cards sit flush inside */
.job-list-container {
    background-color: var(--color-card-bg);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    height: 100%;
    max-height: 60vh; 
    overflow-y: auto;
    padding: 0; /* Important for job cards to span full width */
}

/* Job List Header - ACTIVE COLLECTION JOBS (3) */
.job-list-container h4 {
    font-size: 1.1em;
    padding: 15px 20px;
    border-bottom: 1px solid var(--color-border);
    background-color: var(--color-text-dark); /* Dark background */
    color: white; /* White text */
    font-weight: 700;
    text-transform: uppercase;
    width: 100%;
    border-top-left-radius: 8px; 
    border-top-right-radius: 8px;
    position: sticky; 
    top: 0;
    z-index: 5;
    margin: 0 !important;
  
}

/* Individual Job Card (.job-card) */
.job-card {
    padding: 15px 20px; 
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Subtle internal divider */
    border-left: 6px solid transparent; /* Thick LEFT accent border */
    border-top: none;
    
    background-color: var(--color-text-dark); /* Dark Card Background */
    color: white;
    margin-bottom: 20px; /* Ensure no gap between cards */
}

.job-card:hover {
    background-color: #334155; /* Slightly lighter dark on hover */
    border-left-color: var(--color-primary); /* Primary green accent on hover */
    cursor: pointer;
}
.job-card:last-of-type { 
    border-bottom: none; /* Remove divider after last card */
}

/* Job Card Typography */
.job-card strong {
    font-size: 1.1em;
    color: white; 
    font-weight: 700;
    margin-bottom: 5px; 
    line-height: 1.3;
}

.job-card small {
    display: block; /* Forces each small tag (info piece) onto a new line */
    line-height: 1.5;
    font-size: 0.9em;
    color: #cbd5e1; /* Subtle gray/light text for details */
}

/* --- Status and Action Styling --- */

/* Status Highlighting (Applied via status-class on .job-card) */
.job-card.status-danger { border-left-color: var(--color-danger); }
.job-card.status-warning { border-left-color: #f59e0b; }
.job-card.status-success { border-left-color: var(--color-success); }

/* Status Text Colors */
.job-card .status-text.enroute { color: #f59e0b; font-weight: 700; }
.job-card .status-text.atpickup { color: var(--color-danger); font-weight: 700; }
.job-card .status-text.completed { color: var(--color-success); font-weight: 700; }

/* Action Buttons Container */
.job-card-actions {
    margin-top: 15px; 
    display: flex;
    gap: 8px;
}

/* General Secondary Buttons (White/Light look) */
.job-card-actions .btn-small-secondary {
    background-color: white; 
    color: var(--color-text-dark); 
    border: 1px solid var(--color-border);
    padding: 6px 12px;
    font-size: 0.85em;
    font-weight: 600;
    border-radius: 4px;
    transition: all 0.2s;
}

/* Primary Action Buttons (Solid Color look) */
.job-card-actions .btn-alert-danger {
    background-color: var(--color-danger);
    color: white;
    border: none;
    padding: 6px 12px;
    font-size: 0.85em;
    font-weight: 600;
    border-radius: 4px;
}

.job-card-actions .btn-report-success {
    background-color: var(--color-success);
    color: white;
    border: none;
    padding: 6px 12px;
    font-size: 0.85em;
    font-weight: 600;
    border-radius: 4px;
}


/* New: Map Controls Placeholder */
.map-container::after {
    content: 'üîé + - üó∫Ô∏è'; /* Implies controls like zoom, map type */
    position: absolute;
    bottom: 15px;
    right: 15px;
    background: rgba(255, 255, 255, 0.9);
    padding: 8px 12px;
    border-radius: 6px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    color: var(--color-text-dark);
    font-size: 1.1em;
    font-weight: 600;
    z-index: 20; /* Ensure controls are above map details */
}

/* --- 13. DATA TABLES & INVENTORY LEVELS --- */

/* Card containing the inventory table */
.card.inventory-table-card {
    padding: 0; /* Remove padding from the card itself, table handles it */
    overflow: hidden; 
}

/* General Table Styling for Admin Panel */
.data-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95em;
    text-align: left;
}

.data-table th {
    background-color: var(--color-background); /* Lighter background for headers */
    color: var(--color-text-dark);
    padding: 15px 20px; 
    border-bottom: 2px solid var(--color-border);
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.85em; 
    letter-spacing: 0.8px;
}

.data-table td {
    padding: 18px 20px; /* Increased vertical padding for rows */
    border-bottom: 1px solid var(--color-border);
    color: var(--color-text-dark);
    vertical-align: middle; 
}

/* Row Hover Effect - Subtle green highlight */
.data-table tbody tr:hover {
    background-color: var(--color-primary-light); /* Light green */
}

.data-table tbody tr:last-child td {
    border-bottom: none;
}

/* --- Progress Bar Styling (KEY IMPROVEMENTS) --- */
.progress-bar-container {
    width: 140px; 
    height: 20px; 
    background-color: var(--color-border); 
    border-radius: 10px; 
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); 
}

.progress-bar {
    height: 100%;
    transition: width 0.4s ease-in-out;
    border-radius: 10px; 
    position: absolute; 
    left: 0;
    top: 0;
}

.progress-bar-container span {
    position: absolute;
    left: 50%; 
    transform: translateX(-50%); 
    font-size: 0.85em; 
    font-weight: 700;
    color: var(--color-text-dark); 
    z-index: 1; 
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.7); /* Subtle text shadow for readability */
}

/* Progress Bar Colors */
.progress-bar.success { background-color: var(--color-success); }
.progress-bar.primary { background-color: var(--color-primary); }
.progress-bar.warning { background-color: #f59e0b; } /* Amber */
.progress-bar.danger { background-color: var(--color-danger); }

/* Status Text within table - use existing classes */
.data-table .status-text {
    font-weight: 600;
}
.data-table .status-text.atpickup { color: var(--color-danger); } /* HIGH priority */
.data-table .status-text.completed { color: var(--color-success); } /* LOW priority */
.data-table .status-text.enroute { color: #f59e0b; } /* MEDIUM priority */


/* Table Action Buttons - use existing btn-small-secondary */
.data-table .btn-small-secondary {
    padding: 6px 15px; 
    font-size: 0.8em; 
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background-color: white;
    color: var(--color-text-dark);
    border: 1px solid var(--color-border);
    transition: all 0.2s;
}
.data-table .btn-small-secondary:hover {
    background-color: var(--color-primary-light);
    border-color: var(--color-primary);
    color: var(--color-primary);
}

/* ... (Existing sections 1-13 remain unchanged) ... */

/* --- 14. SYSTEM ANALYTICS COMPONENTS --- */

/* Chart Layout Grid */
.chart-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two columns */
    gap: 25px; /* Increased gap for better separation */
    margin-bottom: 35px;
}

/* Chart Card Styling (Container for Charts) */
.chart-card {
    background-color: var(--color-card-bg);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Lifted shadow */
    border: 1px solid var(--color-border);
    transition: transform 0.3s;
   
}

.chart-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.15);
}

/* Chart Header within the Card */
.chart-card h5 {
    font-size: 1.2em;
    font-weight: 700;
    color: var(--color-text-dark);
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--color-border);
    text-align: center;
}

.chart-visual {
    /* REMOVED fixed height: 300px; */
    width: 100%;
    display: block; /* Use block layout */
    padding: 10px; /* Padding inside the visual area */
    border-radius: 6px;
    border: 1px solid var(--color-border); /* Simple solid border for the visual area */
    background-color: var(--color-background); 
}

/* Rule to make the image fill the area */
.chart-visual img {
    width: 600px; /* Fill the width of .chart-visual */
    height: 600px; /* Allow height to scale naturally (Crucial for readability) */
    display: block;
    margin: 0 auto;
    border-radius: 10px; /* Keep the circular shape */
}

/* --- 15. PRICING & SETTINGS COMPONENTS --- */

/* Settings Card Wrapper */
.settings-card {
    max-width: 800px; /* Adjusted to fit the wider table */
    background-color: var(--color-card-bg);
    padding: 25px; /* Generous internal padding */
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    margin-bottom: 30px;
    border: 1px solid var(--color-border);
}

/* Individual Pricing/Setting Line Item (for Commission/Fees section) */
.price-input-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0; /* Increased vertical padding */
    /* Use a clean, solid border for professionalism */
    border-bottom: 1px solid var(--color-border); 
}
.price-input-group:last-of-type {
    border-bottom: none;
}

/* Label/Description */
.price-input-group label {
    font-weight: 600;
    color: var(--color-text-dark);
    font-size: 1em;
    flex-basis: 60%; 
}

/* Visual Status Badges (Info/Warning) */
.price-status-badge {
    display: inline-block;
    margin-left: 10px;
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 0.75em;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.badge-info {
    background-color: var(--color-primary-light);
    color: var(--color-primary);
}
.badge-warning {
    background-color: var(--color-warning-bg, #fffbe6);
    color: #f59e0b; 
    border: 1px solid #f59e0b;
}


/* Input Field Styling */
.price-input-group input {
    width: 35%;
    padding: 10px; /* Increased padding */
    margin: 0;
    text-align: right;
    border-radius: 6px;
    border: 1px solid var(--color-border); /* Subtle border color */
    font-size: 1em;
    color: var(--color-text-dark);
    font-weight: 600;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.price-input-group input:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(4, 120, 87, 0.2); /* Primary green focus ring */
}

/* Save Button Styling */
.btn-save-settings {
    /* Inherits btn-primary base styles */
    width: 350px; /* Fixed, professional width */
    margin-top: 40px;
    margin-bottom: 30px;
    display: block;
    text-transform: uppercase;
    font-size: 1.1em;
}

/* New Style for the Factory Rate Table (Recyclable Rates) */
.rates-table {
    /* Inherits .data-table structure (from Section 13) */
}

/* Rate Table Specific Cell Styles */
.rates-table td {
    padding: 10px 15px; /* Tighter padding for data density */
}

.rates-table td.rate-status {
    font-weight: 700;
}

/* Active Rate Highlighting */
.rates-table tr.active-rate {
    background-color: var(--color-success-bg, #ecfdf5); /* Light green background for selected rate */
    border-left: 5px solid var(--color-success);
}
.rates-table tr.active-rate:hover {
    background-color: var(--color-success-bg, #ecfdf5); /* Keep stable color on hover */
}

.rates-table tr.unavailable-rate td {
    background-color: #fef2f2; 
    opacity: 0.7; /* Make the row slightly transparent/dimmed */
}

.settings-select {
    width: 100%;
    padding: 12px 15px; /* Increased padding */
    border: 1px solid var(--color-border);
    border-radius: 8px; /* Slightly rounded corners */
    background-color: var(--color-card-bg); /* White background */
    font-size: 1em;
    color: var(--color-text-dark);
    font-weight: 600; /* Bolder text */
    
    /* Customizing the appearance for a cleaner look */
    appearance: none; 
    -webkit-appearance: none;
    -moz-appearance: none;
    
    /* Custom Arrow using SVG (using dark text color for arrow) */
    background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%231e293b%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M7.247%2011.14c-.35.35-.921.35-.39%200L.253%205.747c-.35-.35-.35-.921%200-1.272l.968-.968c.35-.35.921-.35%201.272%200L8%208.577l5.507-5.07c.35-.35.921-.35%201.272%200l.968.968c.35.35.35.921%200%201.272L8.747%2011.14z%22%2F%3E%3C%2Fsvg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* Subtle shadow for depth */
}
.settings-select:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(4, 120, 87, 0.2);
}

/* --- 16. PROMOTIONS COMPONENTS --- */

/* Promotions Header Bar (H4 and Button alignment) */
.promotions-header-bar {
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 30px;
    padding-bottom: 10px; 
    border-bottom: 1px solid var(--color-border);
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    gap: 15px; /* Space between items if they wrap */
}
/* Ensure h4 inside the header bar is correctly styled */
.promotions-header-bar h4 {
    margin: 0; 
    border-bottom: none; 
    flex-shrink: 0; /* Prevent it from shrinking */
}

/* Create Button (adjusted for better vertical alignment) */
.btn-create-promotion {
    background-color: var(--color-success);
    padding: 10px 20px;
    font-size: 0.95em;
    font-weight: 600;
    text-transform: none;
    letter-spacing: normal;
    transition: background-color 0.2s;
    height: 40px; /* Give it a fixed height for vertical consistency */
    display: flex; /* Use flex to vertically center text */
    align-items: center;
    width: fit-content;
}
.btn-create-promotion:hover {
    background-color: #1e873a;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
}

/* Promotion Card General Style */
.promotion-card {
    padding: 20px;
    border: 1px solid var(--color-border);
    border-left: 6px solid transparent; 
    border-radius: 8px;
    margin-bottom: 20px; /* Increased margin for better separation */
    background-color: var(--color-card-bg);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 850px;
    transition: all 0.2s ease;
}
.promotion-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* Promotion Card Content Styling */
.promotion-card strong {
    display: block; 
    font-size: 1.2em;
    font-weight: 700;
    color: var(--color-text-dark);
}
.promotion-card small {
    display: block;
    color: var(--color-text-light);
    font-size: 0.9em;
    margin-top: 5px;
}

/* --- ACTIVE STATE STYLING --- */
.promotion-card.active-promo {
    border-left-color: var(--color-primary); 
    background-color: var(--color-primary-light); 
}
.promotion-card.active-promo strong {
    color: var(--color-primary);
}
.promotion-card.active-promo .status-text {
    color: var(--color-success);
}

/* --- PAUSED STATE STYLING --- */
.promotion-card.paused-promo {
    border-left-color: var(--color-warning); /* Amber accent */
    background-color: var(--color-warning-bg); /* Light amber background */
    opacity: 0.95;
}
.promotion-card.paused-promo strong {
    color: var(--color-warning-dark); /* Darker amber for text */
}
.promotion-card.paused-promo .status-text {
    color: var(--color-warning);
}


/* --- INACTIVE / EXPIRED STATE STYLING --- */
.promotion-card.expired-promo {
    border: 1px solid var(--color-border);
    border-left-color: var(--color-text-light); 
    background-color: #f1f5f9; 
    opacity: 0.8;
}
.promotion-card.expired-promo strong {
    color: var(--color-text-dark);
}
.promotion-card.expired-promo .status-text {
    color: var(--color-danger);
}

/* Action Area (Right Side) */
.promo-actions {
    text-align: right;
    flex-shrink: 0;
    display: flex; /* Use flex for horizontal button alignment */
    align-items: center;
    gap: 10px; /* Space between status and buttons */
}
.promo-actions .status-text {
    font-weight: 700;
    display: inline-block; /* Changed to inline-block */
    margin-right: 15px; /* Space before buttons */
    font-size: 0.9em;
}

/* Small Action Button Styles */
.btn-promo-action {
    background-color: white; 
    color: var(--color-text-dark);
    border: 1px solid var(--color-border);
    padding: 6px 12px;
    font-size: 0.85em;
    font-weight: 600;
    border-radius: 4px;
    transition: all 0.2s;
    text-transform: none;
    line-height: 1.2; /* Ensure text sits well */
    height: 32px; /* Fixed height for consistency */
    display: flex; /* Align text vertically */
    align-items: center;
    justify-content: center;
}
.btn-promo-action:hover {
    background-color: var(--color-background);
    color: var(--color-primary);
    border-color: var(--color-primary);
}

/* Reactivate Button (Primary Action for Expired) */
.btn-reactivate {
    background-color: var(--color-primary);
    color: white;
    border: none;
}
.btn-reactivate:hover {
    background-color: #059669;
}

/* --- 17. MACHINE NETWORK COMPONENTS --- */

/* Metric Grid (Reusing Dashboard Styles) */
.machine-metric-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); 
    gap: 25px; 
    margin-top: 20px; /* Space below H4 */
    margin-bottom: 35px;
}

/* Base Metric Card Styling (Inherits Section 8, ensures centered text) */
.machine-card strong {
    font-size: 3em; 
    color: var(--color-text-dark);
    line-height: 1; 
    text-align: center;
}
.machine-card small {
    line-height: 1; 
    margin-top: 10px; 
    text-align: center;
}
.machine-card.status-success {
    border-bottom-color: var(--color-success);
}
.machine-card.status-danger {
    border-bottom-color: var(--color-danger);
}
.machine-card.status-warning {
    border-bottom-color: #f59e0b; /* Amber */
}

/* Machine List Container Wrapper (Fixes visual bleed) */
.machine-list-container {
    width: 100%;
    padding: 0;
    margin: 0;
    border: none;
}

.admin-progress-bar {
    width: 100%;
    height: 14px; 
    background-color: var(--color-border); 
    border-radius: 7px;
    overflow: hidden;
    margin-top: 10px; /* Space below the header/status lines */
    margin-bottom: 10px; /* Space above metadata/details */
}
.admin-progress-fill {
    height: 100%;
    transition: width 0.4s;
    border-radius: 7px;
}

/* --- MACHINE CARDS (RVM Status List) --- */

.machine-card {
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px; 
    border: 1px solid var(--color-border); 
    border-left: 6px solid var(--color-border); /* Accent border hook */
    background-color: var(--color-card-bg); /* Clean White Background */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: transform 0.2s, box-shadow 0.2s;
    max-width: 550px; 
}
.machine-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* New Grid for 2-Column Machine List */
.machine-cards-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two equal columns */
    gap: 30px; /* Space between the columns and rows */
}

/* Ensure machine cards within the grid have slightly reduced max-width to fit cleanly */
.machine-cards-grid .machine-card {
    max-width: 100%; /* Let it fill its column space */
}

/* Machine Card Status Visuals (Border-Only Accent) */
.machine-card.status-success {
    border-left-color: var(--color-success);
}
.machine-card.status-warning {
    border-left-color: #f59e0b;
}
.machine-card.status-danger {
    border-left-color: var(--color-danger);
}

/* Header & Title */
.machine-header {
    display: flex;
    justify-content: space-between;
    align-items: center; /* Vertically centers title and status */
    margin-bottom: 0; 
}
.machine-header strong {
    font-size: 1.3em;
    font-weight: 700;
    color: var(--color-text-dark);
}
.machine-header .status-indicator {
    font-weight: 700;
    font-size: 1.1em;
}


/* Machine Details (Metadata text container) */
.machine-details {
    margin-bottom: 10px; 
    font-size: 0.9em;
    color: var(--color-text-dark);
}
.machine-details p {
    margin: 0;
    line-height: 1.4;
    color: var(--color-text-dark);
}

/* Footer & Actions (Buttons) */
.machine-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 15px;
    padding-top: 15px; 
    border-top: 1px solid var(--color-border); 
}

/* Button Overrides (General styles for actions in the footer) */
.btn-machine-action {
    background-color: var(--color-primary); 
    color: white;
    font-size: 0.9em;
    padding: 8px 15px;
    height: auto;
    text-transform: none;
    font-weight: 600;
    border-radius: 4px;
    display: inline-block;
    width: 40%;
}
.btn-machine-secondary {
    background-color: var(--color-background); 
    border: 1px solid var(--color-primary); /* Subtle border */
    color: var(--color-text-dark); /* Dark text */
    font-size: 0.9em;
    padding: 8px 15px;
    font-weight: 600;
    border-radius: 4px;
    height: auto;
    display: inline-block;
    transition: all 0.2s;
}

.btn-machine-secondary:hover {
    color: var(--color-primary); /* Primary green text on hover */
}
.machine-footer .btn-danger {
    background-color: var(--color-danger);
    color: white;
}
.machine-footer .btn-warning {
    background-color: #f59e0b;
    color: var(--color-text-dark);
}

/* ... (Existing sections 1-17 remain unchanged) ... */

/* --- 18. ADMIN PROFILE COMPONENTS --- */

/* Profile Header Section */
.profile-header {
    text-align: center;
    padding: 20px 0 30px; /* Increased padding */
    margin-bottom: 30px;
    border-bottom: 1px solid var(--color-border);
}

/* Profile Image Container */
.profile-img {
    width: 120px; /* Larger size */
    height: 120px;
    background-color: var(--color-primary-light); 
    border-radius: 50%;
    margin: 0 auto 15px auto;
    overflow: hidden;
    border: 5px solid var(--color-primary); /* Thicker border */
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.profile-img img {
    /* Ensure image fills the circle */
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Profile Text Info */
.profile-info h3 {
    margin: 0 0 5px 0;
    color: var(--color-text-dark); /* Using dark text for main title */
    font-size: 1.6em;
    font-weight: 700;
}
.profile-info small {
    display: block;
    color: var(--color-primary); /* Use primary color for role */
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9em;
}

/* Settings Lists (Reusing Card & Data Table Look) */

.settings-list {
    list-style: none;
    padding: 0;
    
}
.settings-list li {
    padding: 16px 20px; /* Consistent vertical padding */
    border-bottom: 1px solid var(--color-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1em;
}
.settings-list li:last-child {
    border-bottom: none;
}
.settings-list li strong {
    color: var(--color-success); /* Success color for Enabled/Active status */
    font-weight: 700;
}

/* Log Out Button */
.btn-logout {
    /* Inherits btn-primary, overrides color and center-aligns */
    background-color: var(--color-danger);
    width: 300px;
    margin: 40px auto; /* Centers the block button */
    display: block;
    text-align: center;
    text-decoration: none;
}
.btn-logout:hover {
    background-color: #c82333; /* Darker red on hover */
    box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
}